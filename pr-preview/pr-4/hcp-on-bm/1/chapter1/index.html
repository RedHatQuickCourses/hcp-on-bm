<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploy the Bare Metal Node :: Hosted Control Planes on a Single BareMetal Node</title>
    <link rel="prev" href="../chapter0/index.html">
    <link rel="next" href="../chapter2/index.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Hosted Control Planes on a Single BareMetal Node</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/hcp-on-bm/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="hcp-on-bm" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Hosted Control Planes on a Single BareMetal Node</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapter0/index.html">Introduction to OpenShift HCP and the PoC Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="index.html">Deploy the Bare Metal Node</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapter2/index.html">Prepare the Bare Metal Node</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapter3/index.html">Setup the Hub Cluster</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapter4/index.html">Add Managed Hosts</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapter5/index.html">Create and Access a Hosted Cluster</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapter6/index.html">Closing Words</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/index.html">Optional: Configure Virtual BMC Services on the Bare Metal Host</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Hosted Control Planes on a Single BareMetal Node</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Hosted Control Planes on a Single BareMetal Node</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Hosted Control Planes on a Single BareMetal Node</a></li>
    <li><a href="index.html">Deploy the Bare Metal Node</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Deploy the Bare Metal Node</h1>
<div class="paragraph">
<p>This lab shows how to prepare an AWS environment, using the AWS console, with a single bare metal instance that you will later access using SSH and also a remote desktop technology (either waypipe or VNC).</p>
</div>
<div class="paragraph">
<p><em>There is no video segment for this lab.</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the AWS Web console, switch to your preferred region, preferably the one closest to you. If unsure, use <code>us-east-1</code>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-1.jpg" alt="s2 fig 1">
</div>
</div>
</li>
<li>
<p>From within the AWS console, search for <code>VPC</code> in the search bar and select <strong>VPC</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-2.jpg" alt="s2 fig 2">
</div>
</div>
</li>
<li>
<p>Click on <strong>Create VPC</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-2b.jpg" alt="s2 fig 2b">
</div>
</div>
<div class="paragraph">
<p>Fill in the form as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-2c.jpg" alt="s2 fig 2c">
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select <strong>VPC and more</strong></p>
</li>
<li>
<p>Give a name</p>
</li>
<li>
<p>Select <strong>1</strong> under <strong>Number of Availability Zones (AZs)</strong></p>
</li>
<li>
<p>Select <strong>0</strong> under <strong>Number of Private Subnets</strong></p>
</li>
<li>
<p>Then click on <strong>Create VPC</strong></p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that the VPC and associated resources are created successfully and there are no errors.</p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-4.jpg" alt="s2 fig 4">
</div>
</div>
</li>
<li>
<p>In the search window, type <code>EC2</code> and click on <strong>EC2</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-5.jpg" alt="s2 fig 5">
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click on <strong>Launch Instance</strong> on the next page.</p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-6.jpg" alt="s2 fig 6">
</div>
</div>
</li>
<li>
<p>Give a name for the EC2 Instance.</p>
</li>
<li>
<p>Select <strong>Red Hat</strong> under <strong>Application and OS Images (Amazon Machine Image)</strong></p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
It is expected to work using the default RHEL10 AMI, but all testes were performed by selecting a RHEL9 AMI.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Select <code>c5.metal</code> under <strong>Instance Type</strong></p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-7.jpg" alt="s2 fig 7">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>In the key pair section, click on <strong>Create new key pair</strong></p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-8.jpg" alt="s2 fig 8">
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Give it a name and click on <strong>Create key pair</strong></p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-9.jpg" alt="s2 fig 9">
</div>
</div>
</li>
<li>
<p>Save the automatically downloaded key pair in your local system with access permissions to the owner only.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ chmod 600 <em>&lt;path to the key pair&gt;</em></code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Edit</strong> next to <strong>Network Settings</strong> and fill in the panel as follows:</p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-10.jpg" alt="s2 fig 10">
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select <strong>Enable</strong> in <strong>Auto-assign public IP</strong></p>
</li>
<li>
<p>Select <strong>My IP</strong> for <strong>Source type</strong> for ssh under <strong>Inbound Security Group Rules</strong></p>
</li>
<li>
<p>Click <strong>Add security group rule</strong></p>
</li>
<li>
<p>Set <strong>Port range</strong> to <code>5999</code></p>
</li>
<li>
<p>Select <strong>My IP</strong> for <strong>Source type</strong> for the second security group rule also.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Under <strong>Configure Storage</strong>, change the size of the disk to <code>750 GiB</code>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-11.jpg" alt="s2 fig 11">
</div>
</div>
</li>
<li>
<p>Then click on <strong>Launch instance</strong> from the Summary page, on the right side.</p>
<div class="imageblock">
<div class="content">
<img src="_images/s2-fig-12.jpg" alt="s2 fig 12">
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If you get an AWS error stating there is no sufficient c5.metal capacity, try on a different availability zone.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Wait a few moments until your AWS instance is up and running, before continuing with the next lab.</p>
</li>
</ol>
</div>
<nav class="pagination">
  <span class="prev"><a href="../chapter0/index.html">Introduction to OpenShift HCP and the PoC Environment</a></span>
  <span class="next"><a href="../chapter2/index.html">Prepare the Bare Metal Node</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
